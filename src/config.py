"""설정 및 상수 정의"""
import os
from dotenv import load_dotenv

load_dotenv()

# API 키
DATA_GO_KR_API_KEY = os.getenv("DATA_GO_KR_API_KEY", "")
KAKAO_REST_API_KEY = os.getenv("KAKAO_REST_API_KEY", "")

# 카카오 로컬 API 엔드포인트
KAKAO_LOCAL_API_URL = "https://dapi.kakao.com/v2/local"
KAKAO_KEYWORD_SEARCH_URL = f"{KAKAO_LOCAL_API_URL}/search/keyword.json"
KAKAO_CATEGORY_SEARCH_URL = f"{KAKAO_LOCAL_API_URL}/search/category.json"
KAKAO_ADDRESS_SEARCH_URL = f"{KAKAO_LOCAL_API_URL}/search/address.json"

# 기본 좌표 (서울 시청) - "내 주변" 요청 시 기본값으로 사용
DEFAULT_LOCATION = {
    "x": "126.9784",
    "y": "37.5665",
    "name": "서울 시청"
}

# 카카오 카테고리 코드
KAKAO_CATEGORY_CODES = {
    "병원": "HP8",
    "약국": "PM9",
}

# 서버 설정
HOST = os.getenv("HOST", "0.0.0.0")
PORT = int(os.getenv("PORT", "8000"))

# 공공데이터포털 API 엔드포인트
HIRA_HOSPITAL_API_URL = "http://apis.data.go.kr/B551182/hospInfoServicev2/getHospBasisList"

# 진료과목 코드 매핑 (건강보험심사평가원 기준)
DEPARTMENT_CODES = {
    "내과": "01",
    "신경과": "02",
    "정신건강의학과": "03",
    "외과": "04",
    "정형외과": "05",
    "신경외과": "06",
    "흉부외과": "07",
    "성형외과": "08",
    "마취통증의학과": "09",
    "산부인과": "10",
    "소아청소년과": "11",
    "안과": "12",
    "이비인후과": "13",
    "피부과": "14",
    "비뇨의학과": "15",
    "영상의학과": "16",
    "방사선종양학과": "17",
    "병리과": "18",
    "진단검사의학과": "19",
    "결핵과": "20",
    "재활의학과": "21",
    "핵의학과": "22",
    "가정의학과": "23",
    "응급의학과": "24",
    "직업환경의학과": "25",
    "예방의학과": "26",
    "치과": "49",
    "구강악안면외과": "50",
    "치과보철과": "51",
    "치과교정과": "52",
    "소아치과": "53",
    "치주과": "54",
    "치과보존과": "55",
    "구강내과": "56",
    "영상치의학과": "57",
    "구강병리과": "58",
    "예방치과": "59",
    "통합치의학과": "60",
    "한방내과": "80",
    "한방부인과": "81",
    "한방소아과": "82",
    "한방안이비인후피부과": "83",
    "한방신경정신과": "84",
    "침구과": "85",
    "한방재활의학과": "86",
    "사상체질과": "87",
    "한방응급": "88",
}

# 증상-진료과목 매핑 (AI 기반 추천을 위한 데이터)
SYMPTOM_TO_DEPARTMENT = {
    # 피부과 관련
    "아토피": ["피부과"],
    "아토피피부염": ["피부과"],
    "습진": ["피부과"],
    "두드러기": ["피부과"],
    "여드름": ["피부과"],
    "건선": ["피부과"],
    "대상포진": ["피부과", "내과"],
    "무좀": ["피부과"],
    "탈모": ["피부과"],
    "피부가려움": ["피부과"],
    "발진": ["피부과", "내과"],
    "피부트러블": ["피부과"],
    "지루성피부염": ["피부과"],
    "접촉성피부염": ["피부과"],
    "화상": ["피부과", "외과"],

    # 내과 관련
    "감기": ["내과", "이비인후과"],
    "독감": ["내과"],
    "당뇨": ["내과"],
    "고혈압": ["내과"],
    "위염": ["내과"],
    "장염": ["내과"],
    "소화불량": ["내과"],
    "변비": ["내과"],
    "설사": ["내과"],
    "빈혈": ["내과"],
    "갑상선": ["내과"],
    "간염": ["내과"],
    "폐렴": ["내과"],
    "천식": ["내과"],
    "기침": ["내과", "이비인후과"],
    "호흡곤란": ["내과", "흉부외과"],
    "가슴통증": ["내과", "흉부외과"],
    "복통": ["내과", "외과"],
    "구역질": ["내과"],
    "식욕부진": ["내과"],

    # 정형외과 관련
    "허리디스크": ["정형외과", "신경외과"],
    "목디스크": ["정형외과", "신경외과"],
    "관절염": ["정형외과"],
    "골절": ["정형외과"],
    "염좌": ["정형외과"],
    "어깨통증": ["정형외과"],
    "무릎통증": ["정형외과"],
    "허리통증": ["정형외과", "재활의학과"],
    "목통증": ["정형외과"],
    "손목통증": ["정형외과"],
    "발목통증": ["정형외과"],
    "오십견": ["정형외과"],
    "척추측만증": ["정형외과"],
    "척추관협착증": ["정형외과", "신경외과"],
    "인대손상": ["정형외과"],
    "근육통": ["정형외과", "재활의학과"],

    # 이비인후과 관련
    "중이염": ["이비인후과"],
    "비염": ["이비인후과"],
    "축농증": ["이비인후과"],
    "편도염": ["이비인후과"],
    "인후염": ["이비인후과"],
    "코막힘": ["이비인후과"],
    "콧물": ["이비인후과"],
    "귀통증": ["이비인후과"],
    "난청": ["이비인후과"],
    "이명": ["이비인후과"],
    "어지러움": ["이비인후과", "신경과"],
    "코골이": ["이비인후과"],
    "수면무호흡": ["이비인후과"],
    "목소리이상": ["이비인후과"],

    # 안과 관련
    "시력저하": ["안과"],
    "눈충혈": ["안과"],
    "눈가려움": ["안과"],
    "결막염": ["안과"],
    "안구건조": ["안과"],
    "백내장": ["안과"],
    "녹내장": ["안과"],
    "눈통증": ["안과"],
    "눈떨림": ["안과"],
    "눈부심": ["안과"],

    # 신경과/정신건강의학과 관련
    "두통": ["신경과"],
    "편두통": ["신경과"],
    "어지럼증": ["신경과", "이비인후과"],
    "손발저림": ["신경과"],
    "불면증": ["신경과", "정신건강의학과"],
    "우울증": ["정신건강의학과"],
    "불안": ["정신건강의학과"],
    "공황장애": ["정신건강의학과"],
    "조현병": ["정신건강의학과"],
    "치매": ["신경과", "정신건강의학과"],
    "파킨슨": ["신경과"],
    "뇌졸중": ["신경과"],
    "간질": ["신경과"],
    "스트레스": ["정신건강의학과"],

    # 비뇨의학과 관련
    "방광염": ["비뇨의학과"],
    "요로감염": ["비뇨의학과"],
    "전립선": ["비뇨의학과"],
    "혈뇨": ["비뇨의학과"],
    "빈뇨": ["비뇨의학과"],
    "요실금": ["비뇨의학과"],
    "신장결석": ["비뇨의학과"],

    # 산부인과 관련
    "생리불순": ["산부인과"],
    "생리통": ["산부인과"],
    "임신": ["산부인과"],
    "질염": ["산부인과"],
    "자궁근종": ["산부인과"],
    "난소낭종": ["산부인과"],
    "갱년기": ["산부인과"],
    "유방통증": ["산부인과", "외과"],

    # 소아청소년과 관련
    "소아발열": ["소아청소년과"],
    "소아감기": ["소아청소년과"],
    "성장부진": ["소아청소년과"],
    "소아천식": ["소아청소년과"],
    "소아아토피": ["소아청소년과", "피부과"],
    "예방접종": ["소아청소년과"],

    # 치과 관련
    "충치": ["치과"],
    "치통": ["치과"],
    "잇몸출혈": ["치과", "치주과"],
    "치아교정": ["치과교정과"],
    "사랑니": ["치과", "구강악안면외과"],
    "임플란트": ["치과", "치과보철과"],
    "치석": ["치과", "치주과"],

    # 기타
    "탈장": ["외과"],
    "맹장": ["외과"],
    "치질": ["외과"],
    "갑상선암": ["외과", "내과"],
    "유방암": ["외과"],
}

# 질환별 전문 키워드 (병원명/진료과목 검색 시 활용)
DISEASE_KEYWORDS = {
    "아토피": ["아토피", "알레르기", "피부질환", "면역", "습진"],
    "건선": ["건선", "피부질환", "면역피부"],
    "여드름": ["여드름", "피지", "모공"],
    "당뇨": ["당뇨", "내분비", "대사"],
    "고혈압": ["고혈압", "심혈관", "순환기"],
    "디스크": ["척추", "디스크", "신경외과", "정형외과"],
    "관절염": ["관절", "류마티스", "퇴행성"],
}

# 시도 코드
SIDO_CODES = {
    "서울": "110000",
    "부산": "210000",
    "대구": "220000",
    "인천": "230000",
    "광주": "240000",
    "대전": "250000",
    "울산": "260000",
    "세종": "290000",
    "경기": "310000",
    "강원": "320000",
    "충북": "330000",
    "충남": "340000",
    "전북": "350000",
    "전남": "360000",
    "경북": "370000",
    "경남": "380000",
    "제주": "390000",
}
