"""설정 및 상수 정의"""
import os
from dotenv import load_dotenv

load_dotenv()

# API 키
DATA_GO_KR_API_KEY = os.getenv("DATA_GO_KR_API_KEY", "")
KAKAO_REST_API_KEY = os.getenv("KAKAO_REST_API_KEY", "")

# 카카오 로컬 API 엔드포인트
KAKAO_LOCAL_API_URL = "https://dapi.kakao.com/v2/local"
KAKAO_KEYWORD_SEARCH_URL = f"{KAKAO_LOCAL_API_URL}/search/keyword.json"
KAKAO_CATEGORY_SEARCH_URL = f"{KAKAO_LOCAL_API_URL}/search/category.json"
KAKAO_ADDRESS_SEARCH_URL = f"{KAKAO_LOCAL_API_URL}/search/address.json"

# 기본 좌표 (서울 시청) - "내 주변" 요청 시 기본값으로 사용
DEFAULT_LOCATION = {
    "x": "126.9784",
    "y": "37.5665",
    "name": "서울 시청"
}

# 카카오 카테고리 코드
KAKAO_CATEGORY_CODES = {
    "병원": "HP8",
    "약국": "PM9",
}

# 서버 설정
HOST = os.getenv("HOST", "0.0.0.0")
PORT = int(os.getenv("PORT", "8000"))

# 공공데이터포털 API 엔드포인트
HIRA_HOSPITAL_API_URL = "http://apis.data.go.kr/B551182/hospInfoServicev2/getHospBasisList"

# 진료과목 코드 매핑 (건강보험심사평가원 기준)
DEPARTMENT_CODES = {
    "내과": "01",
    "신경과": "02",
    "정신건강의학과": "03",
    "외과": "04",
    "정형외과": "05",
    "신경외과": "06",
    "흉부외과": "07",
    "성형외과": "08",
    "마취통증의학과": "09",
    "산부인과": "10",
    "소아청소년과": "11",
    "안과": "12",
    "이비인후과": "13",
    "피부과": "14",
    "비뇨의학과": "15",
    "영상의학과": "16",
    "방사선종양학과": "17",
    "병리과": "18",
    "진단검사의학과": "19",
    "결핵과": "20",
    "재활의학과": "21",
    "핵의학과": "22",
    "가정의학과": "23",
    "응급의학과": "24",
    "직업환경의학과": "25",
    "예방의학과": "26",
    "치과": "49",
    "구강악안면외과": "50",
    "치과보철과": "51",
    "치과교정과": "52",
    "소아치과": "53",
    "치주과": "54",
    "치과보존과": "55",
    "구강내과": "56",
    "영상치의학과": "57",
    "구강병리과": "58",
    "예방치과": "59",
    "통합치의학과": "60",
    "한방내과": "80",
    "한방부인과": "81",
    "한방소아과": "82",
    "한방안이비인후피부과": "83",
    "한방신경정신과": "84",
    "침구과": "85",
    "한방재활의학과": "86",
    "사상체질과": "87",
    "한방응급": "88",
}

# 증상-진료과목 매핑 (AI 기반 추천을 위한 데이터)
# 자연어 표현, 동의어, 구어체 포함
SYMPTOM_TO_DEPARTMENT = {
    # 피부과 관련
    "아토피": ["피부과"],
    "아토피피부염": ["피부과"],
    "습진": ["피부과"],
    "두드러기": ["피부과"],
    "여드름": ["피부과"],
    "뾰루지": ["피부과"],
    "건선": ["피부과"],
    "대상포진": ["피부과", "내과"],
    "무좀": ["피부과"],
    "발무좀": ["피부과"],
    "탈모": ["피부과"],
    "머리빠짐": ["피부과"],
    "머리카락빠": ["피부과"],
    "피부가려움": ["피부과"],
    "피부가려": ["피부과"],
    "온몸이가려": ["피부과"],
    "가려움": ["피부과"],
    "간지러": ["피부과"],
    "발진": ["피부과", "내과"],
    "피부트러블": ["피부과"],
    "지루성피부염": ["피부과"],
    "접촉성피부염": ["피부과"],
    "화상": ["피부과", "외과"],
    "데었": ["피부과", "외과"],
    "데임": ["피부과", "외과"],

    # 내과 관련
    "감기": ["내과", "이비인후과"],
    "콧물감기": ["내과", "이비인후과"],
    "목감기": ["내과", "이비인후과"],
    "독감": ["내과"],
    "인플루엔자": ["내과"],
    "당뇨": ["내과"],
    "혈당": ["내과"],
    "고혈압": ["내과"],
    "혈압높": ["내과"],
    "혈압이높": ["내과"],
    "저혈압": ["내과"],
    "위염": ["내과"],
    "위가아파": ["내과"],
    "위가아프": ["내과"],
    "속쓰림": ["내과"],
    "속이쓰려": ["내과"],
    "속이쓰리": ["내과"],
    "장염": ["내과"],
    "소화불량": ["내과"],
    "소화가안": ["내과"],
    "체했": ["내과"],
    "체한것같": ["내과"],
    "더부룩": ["내과"],
    "변비": ["내과"],
    "변이안나": ["내과"],
    "변을못": ["내과"],
    "설사": ["내과"],
    "배탈": ["내과"],
    "빈혈": ["내과"],
    "어지럽고힘이없": ["내과"],
    "갑상선": ["내과"],
    "간염": ["내과"],
    "간이안좋": ["내과"],
    "폐렴": ["내과"],
    "천식": ["내과"],
    "숨이차": ["내과", "흉부외과"],
    "기침": ["내과", "이비인후과"],
    "기침이나": ["내과", "이비인후과"],
    "기침이안멈": ["내과", "이비인후과"],
    "가래": ["내과", "이비인후과"],
    "호흡곤란": ["내과", "흉부외과"],
    "숨쉬기힘들": ["내과", "흉부외과"],
    "숨을못쉬": ["내과", "흉부외과"],
    "가슴통증": ["내과", "흉부외과"],
    "가슴이아파": ["내과", "흉부외과"],
    "가슴이아프": ["내과", "흉부외과"],
    "가슴이답답": ["내과", "흉부외과"],
    "복통": ["내과", "외과"],
    "배가아파": ["내과", "외과"],
    "배가아프": ["내과", "외과"],
    "배아파": ["내과", "외과"],
    "배아프": ["내과", "외과"],
    "구역질": ["내과"],
    "메스꺼": ["내과"],
    "울렁거": ["내과"],
    "토할것같": ["내과"],
    "구토": ["내과"],
    "식욕부진": ["내과"],
    "입맛이없": ["내과"],
    "밥맛이없": ["내과"],

    # 정형외과 관련
    "허리디스크": ["정형외과", "신경외과"],
    "디스크": ["정형외과", "신경외과"],
    "목디스크": ["정형외과", "신경외과"],
    "관절염": ["정형외과"],
    "관절이아프": ["정형외과"],
    "관절이아파": ["정형외과"],
    "골절": ["정형외과"],
    "뼈가부러": ["정형외과"],
    "뼈부러": ["정형외과"],
    "금이가": ["정형외과"],
    "염좌": ["정형외과"],
    "삐었": ["정형외과"],
    "삐끗": ["정형외과"],
    "접질렀": ["정형외과"],
    "접질림": ["정형외과"],
    "어깨통증": ["정형외과"],
    "어깨가아프": ["정형외과"],
    "어깨가아파": ["정형외과"],
    "어깨아프": ["정형외과"],
    "어깨아파": ["정형외과"],
    "무릎통증": ["정형외과"],
    "무릎이아프": ["정형외과"],
    "무릎이아파": ["정형외과"],
    "무릎아프": ["정형외과"],
    "무릎아파": ["정형외과"],
    "허리통증": ["정형외과", "재활의학과"],
    "허리가아프": ["정형외과", "재활의학과"],
    "허리가아파": ["정형외과", "재활의학과"],
    "허리아프": ["정형외과", "재활의학과"],
    "허리아파": ["정형외과", "재활의학과"],
    "요통": ["정형외과", "재활의학과"],
    "목통증": ["정형외과"],
    "목이아프": ["정형외과", "이비인후과"],
    "목이아파": ["정형외과", "이비인후과"],
    "목아프": ["정형외과", "이비인후과"],
    "목아파": ["정형외과", "이비인후과"],
    "손목통증": ["정형외과"],
    "손목이아프": ["정형외과"],
    "손목이아파": ["정형외과"],
    "발목통증": ["정형외과"],
    "발목이아프": ["정형외과"],
    "발목이아파": ["정형외과"],
    "발목삐": ["정형외과"],
    "오십견": ["정형외과"],
    "어깨가안올라": ["정형외과"],
    "팔이안올라": ["정형외과"],
    "척추측만증": ["정형외과"],
    "척추관협착증": ["정형외과", "신경외과"],
    "인대손상": ["정형외과"],
    "인대파열": ["정형외과"],
    "근육통": ["정형외과", "재활의학과"],
    "근육이아프": ["정형외과", "재활의학과"],
    "근육이아파": ["정형외과", "재활의학과"],
    "근육아프": ["정형외과", "재활의학과"],
    "온몸이아프": ["정형외과", "재활의학과"],
    "온몸이쑤시": ["정형외과", "재활의학과"],
    "뻐근": ["정형외과", "재활의학과"],
    "결림": ["정형외과", "재활의학과"],
    "뻣뻣": ["정형외과", "재활의학과"],

    # 이비인후과 관련
    "중이염": ["이비인후과"],
    "귀에염증": ["이비인후과"],
    "비염": ["이비인후과"],
    "코가막": ["이비인후과"],
    "축농증": ["이비인후과"],
    "부비동염": ["이비인후과"],
    "편도염": ["이비인후과"],
    "편도가부": ["이비인후과"],
    "인후염": ["이비인후과"],
    "목이따가": ["이비인후과"],
    "목이따갑": ["이비인후과"],
    "목이칼칼": ["이비인후과"],
    "목이간질": ["이비인후과"],
    "코막힘": ["이비인후과"],
    "코가안뚫": ["이비인후과"],
    "콧물": ["이비인후과"],
    "콧물이나": ["이비인후과"],
    "콧물이안멈": ["이비인후과"],
    "재채기": ["이비인후과"],
    "귀통증": ["이비인후과"],
    "귀가아프": ["이비인후과"],
    "귀가아파": ["이비인후과"],
    "귀아프": ["이비인후과"],
    "귀아파": ["이비인후과"],
    "난청": ["이비인후과"],
    "귀가안들": ["이비인후과"],
    "소리가안들": ["이비인후과"],
    "잘안들": ["이비인후과"],
    "이명": ["이비인후과"],
    "귀에서소리": ["이비인후과"],
    "귀에서삐": ["이비인후과"],
    "귀울림": ["이비인후과"],
    "귀가울": ["이비인후과"],
    "귀가멍멍": ["이비인후과"],
    "귀먹먹": ["이비인후과"],
    "어지러움": ["이비인후과", "신경과"],
    "어지럽": ["이비인후과", "신경과"],
    "어지러": ["이비인후과", "신경과"],
    "빙빙돌": ["이비인후과", "신경과"],
    "빙글빙글": ["이비인후과", "신경과"],
    "머리가어지": ["이비인후과", "신경과"],
    "머리어지": ["이비인후과", "신경과"],
    "현기증": ["이비인후과", "신경과"],
    "코골이": ["이비인후과"],
    "코를골": ["이비인후과"],
    "수면무호흡": ["이비인후과"],
    "자다가숨을안쉬": ["이비인후과"],
    "목소리이상": ["이비인후과"],
    "목이쉬": ["이비인후과"],
    "목쉼": ["이비인후과"],
    "쉰목소리": ["이비인후과"],
    "목소리가안나": ["이비인후과"],

    # 안과 관련
    "시력저하": ["안과"],
    "눈이침침": ["안과"],
    "앞이안보": ["안과"],
    "시야가흐": ["안과"],
    "잘안보": ["안과"],
    "눈충혈": ["안과"],
    "눈이빨": ["안과"],
    "눈이빨개": ["안과"],
    "눈가려움": ["안과"],
    "눈이가려": ["안과"],
    "눈간지러": ["안과"],
    "결막염": ["안과"],
    "눈병": ["안과"],
    "눈에염증": ["안과"],
    "안구건조": ["안과"],
    "눈이뻑뻑": ["안과"],
    "눈이건조": ["안과"],
    "눈이따가": ["안과"],
    "눈물이나": ["안과"],
    "백내장": ["안과"],
    "눈이뿌": ["안과"],
    "녹내장": ["안과"],
    "눈압": ["안과"],
    "안압": ["안과"],
    "눈통증": ["안과"],
    "눈이아프": ["안과"],
    "눈이아파": ["안과"],
    "눈아프": ["안과"],
    "눈떨림": ["안과"],
    "눈이떨": ["안과"],
    "눈밑떨림": ["안과"],
    "눈꺼풀떨": ["안과"],
    "눈부심": ["안과"],
    "눈이부": ["안과"],
    "빛이눈부": ["안과"],
    "다래끼": ["안과"],
    "눈에뭐가났": ["안과"],

    # 신경과/정신건강의학과 관련
    "두통": ["신경과"],
    "머리아프": ["신경과"],
    "머리아파": ["신경과"],
    "머리가아프": ["신경과"],
    "머리가아파": ["신경과"],
    "머리가깨질것같": ["신경과"],
    "머리가지끈": ["신경과"],
    "머리지끈": ["신경과"],
    "머리무거": ["신경과"],
    "편두통": ["신경과"],
    "한쪽머리가아프": ["신경과"],
    "어지럼증": ["신경과", "이비인후과"],
    "손발저림": ["신경과"],
    "손저림": ["신경과"],
    "손이저려": ["신경과"],
    "손이저리": ["신경과"],
    "발저림": ["신경과"],
    "발이저려": ["신경과"],
    "발이저리": ["신경과"],
    "저림": ["신경과"],
    "저려": ["신경과"],
    "저리": ["신경과"],
    "쥐가나": ["신경과", "정형외과"],
    "마비": ["신경과"],
    "감각이없": ["신경과"],
    "불면증": ["신경과", "정신건강의학과"],
    "잠이안와": ["신경과", "정신건강의학과"],
    "잠이안옴": ["신경과", "정신건강의학과"],
    "잠을못자": ["신경과", "정신건강의학과"],
    "잠을못잠": ["신경과", "정신건강의학과"],
    "수면장애": ["신경과", "정신건강의학과"],
    "우울증": ["정신건강의학과"],
    "우울": ["정신건강의학과"],
    "우울해": ["정신건강의학과"],
    "우울하": ["정신건강의학과"],
    "기분이안좋": ["정신건강의학과"],
    "삶이힘들": ["정신건강의학과"],
    "무기력": ["정신건강의학과"],
    "의욕이없": ["정신건강의학과"],
    "불안": ["정신건강의학과"],
    "불안해": ["정신건강의학과"],
    "불안하": ["정신건강의학과"],
    "걱정이많": ["정신건강의학과"],
    "초조": ["정신건강의학과"],
    "공황장애": ["정신건강의학과"],
    "공황": ["정신건강의학과"],
    "갑자기무서": ["정신건강의학과"],
    "숨이막히": ["정신건강의학과", "내과"],
    "심장이빨리뛰": ["정신건강의학과", "내과"],
    "가슴이두근": ["정신건강의학과", "내과"],
    "두근거림": ["정신건강의학과", "내과"],
    "조현병": ["정신건강의학과"],
    "환청": ["정신건강의학과"],
    "환각": ["정신건강의학과"],
    "치매": ["신경과", "정신건강의학과"],
    "기억력저하": ["신경과", "정신건강의학과"],
    "건망증": ["신경과", "정신건강의학과"],
    "자꾸까먹": ["신경과", "정신건강의학과"],
    "기억이안나": ["신경과", "정신건강의학과"],
    "파킨슨": ["신경과"],
    "손이떨": ["신경과"],
    "손떨림": ["신경과"],
    "뇌졸중": ["신경과"],
    "중풍": ["신경과"],
    "뇌경색": ["신경과"],
    "뇌출혈": ["신경과"],
    "간질": ["신경과"],
    "경련": ["신경과"],
    "발작": ["신경과"],
    "스트레스": ["정신건강의학과"],
    "스트레스받": ["정신건강의학과"],
    "짜증": ["정신건강의학과"],
    "화가나": ["정신건강의학과"],

    # 비뇨의학과 관련
    "방광염": ["비뇨의학과"],
    "오줌소태": ["비뇨의학과"],
    "요로감염": ["비뇨의학과"],
    "소변볼때아프": ["비뇨의학과"],
    "소변볼때따가": ["비뇨의학과"],
    "소변이아프": ["비뇨의학과"],
    "전립선": ["비뇨의학과"],
    "전립선비대": ["비뇨의학과"],
    "혈뇨": ["비뇨의학과"],
    "소변에피": ["비뇨의학과"],
    "피오줌": ["비뇨의학과"],
    "빈뇨": ["비뇨의학과"],
    "소변자주": ["비뇨의학과"],
    "화장실자주": ["비뇨의학과"],
    "오줌자주": ["비뇨의학과"],
    "소변이자주": ["비뇨의학과"],
    "요실금": ["비뇨의학과"],
    "소변을못참": ["비뇨의학과"],
    "오줌못참": ["비뇨의학과"],
    "소변이새": ["비뇨의학과"],
    "신장결석": ["비뇨의학과"],
    "요로결석": ["비뇨의학과"],
    "돌이생": ["비뇨의학과"],

    # 산부인과 관련
    "생리불순": ["산부인과"],
    "생리가불규칙": ["산부인과"],
    "생리안함": ["산부인과"],
    "생리가안나": ["산부인과"],
    "생리통": ["산부인과"],
    "생리할때아프": ["산부인과"],
    "생리아파": ["산부인과"],
    "임신": ["산부인과"],
    "임신테스트": ["산부인과"],
    "임신같": ["산부인과"],
    "질염": ["산부인과"],
    "냉이나": ["산부인과"],
    "분비물": ["산부인과"],
    "냉대하": ["산부인과"],
    "자궁근종": ["산부인과"],
    "자궁에혹": ["산부인과"],
    "난소낭종": ["산부인과"],
    "난소에혹": ["산부인과"],
    "갱년기": ["산부인과"],
    "폐경": ["산부인과"],
    "안면홍조": ["산부인과"],
    "얼굴이달아올": ["산부인과"],
    "유방통증": ["산부인과", "외과"],
    "가슴에멍울": ["산부인과", "외과"],
    "유방에혹": ["산부인과", "외과"],

    # 소아청소년과 관련
    "소아발열": ["소아청소년과"],
    "아이열": ["소아청소년과"],
    "아기열": ["소아청소년과"],
    "애기열": ["소아청소년과"],
    "아이가아프": ["소아청소년과"],
    "아기가아프": ["소아청소년과"],
    "소아감기": ["소아청소년과"],
    "아이감기": ["소아청소년과"],
    "아기감기": ["소아청소년과"],
    "성장부진": ["소아청소년과"],
    "키가안크": ["소아청소년과"],
    "성장이느": ["소아청소년과"],
    "소아천식": ["소아청소년과"],
    "소아아토피": ["소아청소년과", "피부과"],
    "예방접종": ["소아청소년과"],
    "아이예방접종": ["소아청소년과"],

    # 치과 관련
    "충치": ["치과"],
    "이가썩": ["치과"],
    "치아가썩": ["치과"],
    "치통": ["치과"],
    "이가아프": ["치과"],
    "이가아파": ["치과"],
    "이아파": ["치과"],
    "이아프": ["치과"],
    "치아가아프": ["치과"],
    "치아가아파": ["치과"],
    "어금니아프": ["치과"],
    "앞니아프": ["치과"],
    "이가시려": ["치과"],
    "이가시리": ["치과"],
    "치아가시려": ["치과"],
    "잇몸출혈": ["치과", "치주과"],
    "잇몸에서피": ["치과", "치주과"],
    "잇몸이아프": ["치과", "치주과"],
    "잇몸이부": ["치과", "치주과"],
    "잇몸부음": ["치과", "치주과"],
    "치아교정": ["치과교정과"],
    "이교정": ["치과교정과"],
    "치열": ["치과교정과"],
    "사랑니": ["치과", "구강악안면외과"],
    "사랑니아프": ["치과", "구강악안면외과"],
    "사랑니뽑": ["치과", "구강악안면외과"],
    "임플란트": ["치과", "치과보철과"],
    "틀니": ["치과", "치과보철과"],
    "치석": ["치과", "치주과"],
    "스케일링": ["치과", "치주과"],
    "구취": ["치과"],
    "입냄새": ["치과"],

    # 기타
    "탈장": ["외과"],
    "맹장": ["외과"],
    "맹장염": ["외과"],
    "충수염": ["외과"],
    "치질": ["외과"],
    "치핵": ["외과"],
    "항문이아프": ["외과"],
    "항문출혈": ["외과"],
    "변에피": ["외과", "내과"],
    "갑상선암": ["외과", "내과"],
    "갑상선에혹": ["외과", "내과"],
    "유방암": ["외과"],
    "유방검사": ["외과", "산부인과"],
}

# 질환별 전문 키워드 (병원명/진료과목 검색 시 활용)
DISEASE_KEYWORDS = {
    "아토피": ["아토피", "알레르기", "피부질환", "면역", "습진"],
    "건선": ["건선", "피부질환", "면역피부"],
    "여드름": ["여드름", "피지", "모공"],
    "당뇨": ["당뇨", "내분비", "대사"],
    "고혈압": ["고혈압", "심혈관", "순환기"],
    "디스크": ["척추", "디스크", "신경외과", "정형외과"],
    "관절염": ["관절", "류마티스", "퇴행성"],
}

# 시도 코드
SIDO_CODES = {
    "서울": "110000",
    "부산": "210000",
    "대구": "220000",
    "인천": "230000",
    "광주": "240000",
    "대전": "250000",
    "울산": "260000",
    "세종": "290000",
    "경기": "310000",
    "강원": "320000",
    "충북": "330000",
    "충남": "340000",
    "전북": "350000",
    "전남": "360000",
    "경북": "370000",
    "경남": "380000",
    "제주": "390000",
}
